<h2 id="eq">Eq</h2>

<p>The <code class="highlighter-rouge">Eq</code> typeclass abstracts the ability to compare two instances of any object.
It can be considered the typeclass equivalent of Java’s <code class="highlighter-rouge">Object#equals</code>.</p>

<p>Depending on your needs this comparison can be structural -the content of the object-, referential -the memory address of the object-, based on an identity -like an Id fields-, or any combination of the above.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.instances.*</span>

<span class="c1">// Enable the extension functions inside Eq using run</span>
<span class="n">String</span><span class="p">.</span><span class="n">eq</span><span class="p">().</span><span class="n">run</span> <span class="p">{</span>
  <span class="s">"1"</span><span class="p">.</span><span class="n">eqv</span><span class="p">(</span><span class="s">"2"</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// false</span>
</code></pre></div></div>

<h3 id="main-combinators">Main Combinators</h3>

<h4 id="feqv">F.eqv</h4>

<p>Compares two instances of <code class="highlighter-rouge">F</code> and returns true if they’re considered equal for this instance.
It is the opposite comparison of <code class="highlighter-rouge">neqv</code>.</p>

<p><code class="highlighter-rouge">fun F.eqv(b: F): Boolean</code></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Int</span><span class="p">.</span><span class="n">eq</span><span class="p">().</span><span class="n">run</span> <span class="p">{</span> <span class="m">1</span><span class="p">.</span><span class="n">eqv</span><span class="p">(</span><span class="m">2</span><span class="p">)</span> <span class="p">}</span>
<span class="c1">// false</span>
</code></pre></div></div>

<h4 id="neqv">neqv</h4>

<p>Compares two instances of <code class="highlighter-rouge">F</code> and returns true if they’re not considered equal for this instance.
It is the opposite comparison of <code class="highlighter-rouge">eqv</code>.</p>

<p><code class="highlighter-rouge">fun neqv(a: F, b: F): Boolean</code></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Int</span><span class="p">.</span><span class="n">eq</span><span class="p">().</span><span class="n">run</span> <span class="p">{</span> <span class="m">1</span><span class="p">.</span><span class="n">neqv</span><span class="p">(</span><span class="m">2</span><span class="p">)</span> <span class="p">}</span>
<span class="c1">// true</span>
</code></pre></div></div>

<h3 id="laws">Laws</h3>

<p>Arrow provides <a href="/docs/typeclasses/laws#eqlaws"><code class="highlighter-rouge">EqLaws</code></a> in the form of test cases for internal verification of lawful instances and third party apps creating their own <code class="highlighter-rouge">Eq</code> instances.</p>

<h4 id="creating-your-own-eq-instances">Creating your own <code class="highlighter-rouge">Eq</code> instances</h4>

<p>Eq provides one special instance that can be potentially applicable to most datatypes.
It uses kotlin’s == comparison to compare any two instances.
Note that this instance will fail on many all datatypes that contain a property or field that doesn’t implement structural equality, i.e. functions, typeclasses, non-data classes</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.core.*</span>
<span class="k">import</span> <span class="nn">arrow.typeclasses.*</span>

<span class="c1">// Option is a data class with a single value</span>
<span class="n">Eq</span><span class="p">.</span><span class="n">any</span><span class="p">().</span><span class="n">run</span> <span class="p">{</span> <span class="n">Some</span><span class="p">(</span><span class="m">1</span><span class="p">).</span><span class="n">eqv</span><span class="p">(</span><span class="n">Option</span><span class="p">.</span><span class="n">just</span><span class="p">(</span><span class="m">1</span><span class="p">))</span> <span class="p">}</span>
<span class="c1">// true</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Fails because the wrapped function is not evaluated for comparison</span>
<span class="n">Eq</span><span class="p">.</span><span class="n">any</span><span class="p">().</span><span class="n">run</span> <span class="p">{</span> <span class="n">Eval</span><span class="p">.</span><span class="n">later</span> <span class="p">{</span> <span class="m">1</span> <span class="p">}.</span><span class="n">eqv</span><span class="p">(</span><span class="n">Eval</span><span class="p">.</span><span class="n">later</span> <span class="p">{</span> <span class="m">1</span> <span class="p">})</span> <span class="p">}</span>
<span class="c1">// false</span>
</code></pre></div></div>

<p>See <a href="/docs/patterns/glossary">Deriving and creating custom typeclass</a> to provide your own <code class="highlighter-rouge">Eq</code> instances for custom datatypes.</p>

<h3 id="data-types">Data Types</h3>

<p>Most of the datatypes in Arrow that are not related to functions provide instances of the <code class="highlighter-rouge">Eq</code> typeclass.</p>

<ul>
  <li><a href="/docs/datatypes/id/">Id</a></li>
  <li><a href="/docs/datatypes/option/">Option</a></li>
  <li><a href="/docs/datatypes/either/">Either</a></li>
  <li><a href="/docs/datatypes/eval/">Eval</a></li>
  <li><code class="highlighter-rouge">TupleN</code></li>
  <li><a href="/docs/datatypes/nonemptylist/">NonEmptyList</a></li>
  <li><a href="/docs/datatypes/ior/">Ior</a></li>
  <li><a href="/docs/datatypes/const/">Const</a></li>
  <li><a href="/docs/datatypes/coproduct/">Coproduct</a></li>
  <li><a href="/docs/datatypes/try/">Try</a></li>
  <li><a href="/docs/datatypes/validated/">Validated</a></li>
  <li><a href="/docs/datatypes/free">Free</a></li>
  <li><a href="/docs/datatypes/FreeApplicative">FreeApplicative</a></li>
  <li><a href="/docs/datatypes/listk/">ListK</a></li>
  <li><a href="/docs/datatypes/sequencek/">SequenceK</a></li>
  <li><a href="/docs/datatypes/setk/">SetK</a></li>
  <li><a href="/docs/datatypes/mapk/">MapK</a></li>
  <li><a href="/docs/datatypes/sortedmapk/">SortedMapK</a></li>
</ul>

<p>Additionally all instances of <a href="/docs/typeclasses/order"><code class="highlighter-rouge">Order</code></a> and their MTL variants implement the <code class="highlighter-rouge">Eq</code> typeclass directly since they are all subtypes of <code class="highlighter-rouge">Eq</code></p>
