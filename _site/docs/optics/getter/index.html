<h2 id="getter">Getter</h2>

<p>A <code class="highlighter-rouge">Getter</code> is an optic that can focus into a structure and <code class="highlighter-rouge">get</code> its focus.
It can be seen as a wrapper of a get function <code class="highlighter-rouge">(S) -&gt; A</code> that can be composed with other optics.</p>

<p>Creating a <code class="highlighter-rouge">Getter</code> can be done by referencing a property of a data classes or by providing a function.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.optics.*</span>
<span class="k">import</span> <span class="nn">arrow.*</span>

<span class="kd">data class</span> <span class="nc">Foo</span><span class="p">(</span><span class="kd">val</span> <span class="py">bar</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span>

<span class="kd">val</span> <span class="py">barGetter</span> <span class="p">=</span> <span class="n">Getter</span><span class="p">(</span><span class="n">Foo</span><span class="o">::</span><span class="n">bar</span><span class="p">)</span>

<span class="n">barGetter</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="n">Foo</span><span class="p">(</span><span class="m">5</span><span class="p">))</span>
<span class="c1">// 5</span>
</code></pre></div></div>
<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.data.*</span>

<span class="k">fun</span> <span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">nonEmptyListHead</span><span class="p">()</span> <span class="p">=</span> <span class="n">Getter</span><span class="p">&lt;</span><span class="n">NonEmptyList</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;,</span> <span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="n">it</span><span class="p">.</span><span class="n">head</span>
<span class="p">}</span>

<span class="n">nonEmptyListHead</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;().</span><span class="k">get</span><span class="p">(</span><span class="n">NonEmptyList</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">))</span>
<span class="c1">// 1</span>
</code></pre></div></div>

<p>Or from any of the optics defined in <code class="highlighter-rouge">arrow-optics</code> that allow to safely getting its focus.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.core.*</span>
<span class="k">import</span> <span class="nn">arrow.optics.instances.*</span>

<span class="kd">val</span> <span class="py">headGetter</span><span class="p">:</span> <span class="n">Getter</span><span class="p">&lt;</span><span class="n">NonEmptyList</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;,</span> <span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">nelHead</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;().</span><span class="n">asGetter</span><span class="p">()</span>
<span class="kd">val</span> <span class="py">tupleGetter</span><span class="p">:</span> <span class="n">Getter</span><span class="p">&lt;</span><span class="n">Tuple2</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;,</span> <span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">firstTuple2</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;().</span><span class="n">asGetter</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="composition">Composition</h2>

<p>Unlike a regular <code class="highlighter-rouge">get</code> function a <code class="highlighter-rouge">Getter</code> composes. Similar to a <code class="highlighter-rouge">Lens</code> we can compose <code class="highlighter-rouge">Getter</code>s to create telescopes and zoom into nested structures.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">firstBar</span><span class="p">:</span> <span class="n">Getter</span><span class="p">&lt;</span><span class="n">NonEmptyList</span><span class="p">&lt;</span><span class="n">Foo</span><span class="p">&gt;,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">(</span><span class="n">nelHead</span><span class="p">&lt;</span><span class="n">Foo</span><span class="p">&gt;()</span> <span class="n">compose</span> <span class="n">barGetter</span><span class="p">)</span>
<span class="n">firstBar</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="n">Foo</span><span class="p">(</span><span class="m">5</span><span class="p">).</span><span class="n">nel</span><span class="p">())</span>
<span class="c1">// 5</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Getter</code> can be composed with <code class="highlighter-rouge">Getter</code>, <code class="highlighter-rouge">Iso</code>, <code class="highlighter-rouge">Lens</code> and <code class="highlighter-rouge">Fold</code> and the composition results in the following optics.</p>

<table>
  <thead>
    <tr>
      <th>Â </th>
      <th>Iso</th>
      <th>Lens</th>
      <th>Prism</th>
      <th>Optional</th>
      <th>Getter</th>
      <th>Setter</th>
      <th>Fold</th>
      <th>Traversal</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Getter</td>
      <td>Getter</td>
      <td>Getter</td>
      <td>X</td>
      <td>X</td>
      <td>Getter</td>
      <td>X</td>
      <td>Fold</td>
      <td>X</td>
    </tr>
  </tbody>
</table>
