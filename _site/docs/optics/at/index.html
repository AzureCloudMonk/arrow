<h2 id="at">At</h2>

<p><code class="highlighter-rouge">At</code> provides a <a href="/docs/optics/lens">Lens</a> for a structure <code class="highlighter-rouge">S</code> to focus in <code class="highlighter-rouge">A</code> at a given index <code class="highlighter-rouge">I</code>.</p>

<h3 id="example">Example</h3>

<p>If for a structure <code class="highlighter-rouge">S</code> the focus <code class="highlighter-rouge">A</code> can be indexed by <code class="highlighter-rouge">I</code> then <code class="highlighter-rouge">At</code> can create an <code class="highlighter-rouge">Lens</code> with focus at <code class="highlighter-rouge">S</code> for a given index <code class="highlighter-rouge">I</code>.
We can use that <code class="highlighter-rouge">Lens</code> to operate on that focus <code class="highlighter-rouge">S</code> to get, set and modify the focus at a given index <code class="highlighter-rouge">I</code>.</p>

<p>A <code class="highlighter-rouge">MapK&lt;Int, String&gt;</code> can be indexed by its keys <code class="highlighter-rouge">Int</code> but not for every index an entry can be found.</p>

<pre><code class="language-kotlin:ank">import arrow.core.*
import arrow.data.*
import arrow.optics.typeclasses.*

val mapAt = At.at(MapK.at&lt;Int, String&gt;(), 2)

val map = mapOf(
            1 to "one",
            2 to "two",
            3 to "three"
    ).k()

mapAt.set(map, "new value".some())
</code></pre>

<p>By setting an empty value for a key we delete that entry by removing the value.</p>

<pre><code class="language-kotlin:ank">mapAt.set(map, none())
</code></pre>

<h4 id="creating-your-own-at-instances">Creating your own <code class="highlighter-rouge">At</code> instances</h4>

<p>Arrow provides <code class="highlighter-rouge">At</code> instances for some common datatypes in Arrow that can be indexed. You can look them up by calling <code class="highlighter-rouge">At.at()</code>.</p>

<p>You may create instances of <code class="highlighter-rouge">At</code> for your own datatypes which you will be able to use as demonstrated in the <a href="#example">example</a> above.</p>

<p>See <a href="/docs/patterns/glossary">Deriving and creating custom typeclass</a> to provide your own <code class="highlighter-rouge">At</code> instances for custom datatypes.</p>

<h3 id="instances">Instances</h3>

<p>The following datatypes in Arrow provide instances that adhere to the <code class="highlighter-rouge">At</code> typeclass.</p>

<ul>
  <li><a href="/docs/datatypes/setk">SetK</a></li>
  <li><a href="/docs/datatypes/mapk">MapK</a></li>
</ul>
